# æ¡ƒåœ’å…¬è»Šç¨½æŸ¥å„€è¡¨æ¿

ä¸€å€‹åŸºæ–¼ Node.js å’Œ PostgreSQL çš„ç¾ä»£åŒ–å…¬è»Šç¨½æŸ¥è³‡æ–™è¦–è¦ºåŒ–å„€è¡¨æ¿ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ“Š **ç¸½è¦½çµ±è¨ˆ** - é¡¯ç¤ºç¨½æŸ¥æ¬¡æ•¸ã€å…¬å¸æ•¸ã€è·¯ç·šæ•¸ã€è»Šè¼›æ•¸
- ğŸ“ˆ **æœˆä»½çµ±è¨ˆ** - å„æœˆä»½ç¨½æŸ¥æ¬¡æ•¸è¶¨å‹¢åœ–
- ğŸ¯ **æŒ‡å·®åŸ·è¡Œçµ±è¨ˆ** - å¸æ©ŸæŒ‡å·®åŸ·è¡Œæƒ…æ³åˆ†æ
- ğŸ¢ **å®¢é‹å…¬å¸çµ±è¨ˆ** - å„å…¬å¸ç¨½æŸ¥æ¬¡æ•¸æ’è¡Œ
- âš ï¸ **é•è¦é …ç›®çµ±è¨ˆ** - è·¯ç·šåœ–ã€æ„è¦‹ç®±ã€LEDç­‰è¨­å‚™æª¢æŸ¥çµæœ
- ğŸ›£ï¸ **è·¯ç·šçµ±è¨ˆ** - ç†±é–€è·¯ç·šç¨½æŸ¥æ¬¡æ•¸èˆ‡æŒ‡å·®åŸ·è¡Œç‡
- ğŸ” **è©³ç´°è¨˜éŒ„æŸ¥è©¢** - æ”¯æ´å¤šæ¢ä»¶ç¯©é¸å’Œåˆ†é ç€è¦½
- ğŸ“± **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´æ¡Œé¢å’Œè¡Œå‹•è£ç½®

## æŠ€è¡“æ¶æ§‹

### å¾Œç«¯
- **Node.js** - ä¼ºæœå™¨é‹è¡Œç’°å¢ƒ
- **Express.js** - Web æ¡†æ¶
- **PostgreSQL** - è³‡æ–™åº«
- **pg** - PostgreSQL å®¢æˆ¶ç«¯

### å‰ç«¯
- **HTML5** - é é¢çµæ§‹
- **CSS3** - æ¨£å¼è¨­è¨ˆï¼ˆå«éŸ¿æ‡‰å¼å¸ƒå±€ï¼‰
- **JavaScript (ES6+)** - äº’å‹•åŠŸèƒ½
- **Chart.js** - åœ–è¡¨è¦–è¦ºåŒ–

## å®‰è£èˆ‡è¨­å®š

### 1. ç’°å¢ƒéœ€æ±‚
- Node.js 16.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- PostgreSQL 12.0 æˆ–æ›´é«˜ç‰ˆæœ¬

### 2. å®‰è£ç›¸ä¾å¥—ä»¶
```bash
cd taoyuan-bus-dashboard
npm install
```

### 3. è³‡æ–™åº«è¨­å®š
ç¢ºä¿ PostgreSQL æœå‹™æ­£åœ¨é‹è¡Œï¼Œä¸¦ä¸”å·²ç¶“åŸ·è¡Œéè³‡æ–™åŒ¯å…¥è…³æœ¬ï¼Œå»ºç«‹äº† `taoyuan_bus_inspection_2025_01_07` è³‡æ–™è¡¨ã€‚

### 4. ç’°å¢ƒè®Šæ•¸è¨­å®š
æª¢æŸ¥ `.env` æª”æ¡ˆä¸­çš„è³‡æ–™åº«é€£ç·šè¨­å®šï¼š
```
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=```

### 5. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
```bash
# é–‹ç™¼æ¨¡å¼ï¼ˆéœ€å®‰è£ nodemonï¼‰
npm run dev

# æˆ–ä¸€èˆ¬æ¨¡å¼
npm start
```

### 6. ç€è¦½å™¨è¨ªå•
é–‹å•Ÿç€è¦½å™¨ï¼Œå‰å¾€ `http://localhost:3000`

## API ç«¯é»

| ç«¯é» | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/overview` | GET | ç²å–ç¸½è¦½çµ±è¨ˆ |
| `/api/guidance-stats` | GET | æŒ‡å·®åŸ·è¡Œçµ±è¨ˆ |
| `/api/company-stats` | GET | å®¢é‹å…¬å¸çµ±è¨ˆ |
| `/api/monthly-stats` | GET | æœˆä»½çµ±è¨ˆ |
| `/api/violation-stats` | GET | é•è¦é …ç›®çµ±è¨ˆ |
| `/api/route-stats` | GET | è·¯ç·šçµ±è¨ˆ |
| `/api/inspections` | GET | è©³ç´°ç¨½æŸ¥è¨˜éŒ„ï¼ˆæ”¯æ´åˆ†é å’Œç¯©é¸ï¼‰ |

## è³‡æ–™è¡¨çµæ§‹

ä¸»è¦ä½¿ç”¨ `taoyuan_bus_inspection_2025_01_07` è³‡æ–™è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦æ¬„ä½ï¼š

- `ç·¨è™Ÿ` - ç¨½æŸ¥è¨˜éŒ„ç·¨è™Ÿ
- `æ—¥æœŸ` - ç¨½æŸ¥æ—¥æœŸ
- `è·¯ç·š` - å…¬è»Šè·¯ç·š
- `å…¬å¸` - å®¢é‹å…¬å¸
- `è»Šç‰Œ` - è»Šè¼›è»Šç‰Œè™Ÿç¢¼
- `å€åŸŸ` - ç¨½æŸ¥å€åŸŸ
- `h1_æŒ‡å·®` - æŒ‡å·®åŸ·è¡Œç‹€æ³
- `a2_è·¯ç·šåœ–` - è·¯ç·šåœ–å¼µè²¼ç‹€æ³
- `a3_æ„è¦‹ç®±` - æ„è¦‹ç®±è¨­ç½®ç‹€æ³
- `a5_led` - LEDé¡¯ç¤ºå™¨ç‹€æ³
- `è™•ç†æœˆä»½` - è³‡æ–™è™•ç†æœˆä»½

## ä½¿ç”¨èªªæ˜

### å„€è¡¨æ¿ç¸½è¦½
- é é¢é ‚éƒ¨é¡¯ç¤ºé—œéµçµ±è¨ˆæ•¸æ“š
- ä¸­é–“å€åŸŸå±•ç¤ºå„ç¨®çµ±è¨ˆåœ–è¡¨
- åº•éƒ¨æä¾›è©³ç´°è¨˜éŒ„æŸ¥è©¢åŠŸèƒ½

### ç¯©é¸åŠŸèƒ½
- **å®¢é‹å…¬å¸ç¯©é¸** - é¸æ“‡ç‰¹å®šå®¢é‹å…¬å¸
- **æœˆä»½ç¯©é¸** - é¸æ“‡ç‰¹å®šæœˆä»½
- **è·¯ç·šç¯©é¸** - è¼¸å…¥è·¯ç·šè™Ÿç¢¼é€²è¡Œæ¨¡ç³Šæœå°‹

### åœ–è¡¨èªªæ˜
- **æœˆä»½çµ±è¨ˆ** - é•·æ¢åœ–é¡¯ç¤ºå„æœˆç¨½æŸ¥æ¬¡æ•¸
- **æŒ‡å·®åŸ·è¡Œçµ±è¨ˆ** - ç”œç”œåœˆåœ–é¡¯ç¤ºåŸ·è¡Œç‹€æ³åˆ†å¸ƒ
- **å®¢é‹å…¬å¸çµ±è¨ˆ** - æ°´å¹³é•·æ¢åœ–é¡¯ç¤ºå‰10åå…¬å¸
- **é•è¦é …ç›®çµ±è¨ˆ** - å †ç–Šé•·æ¢åœ–é¡¯ç¤ºå„é …ç›®æª¢æŸ¥çµæœ
- **è·¯ç·šçµ±è¨ˆ** - é›™è»¸é•·æ¢åœ–é¡¯ç¤ºç¨½æŸ¥æ¬¡æ•¸èˆ‡åŸ·è¡Œç‡

## æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **ç„¡æ³•é€£æ¥è³‡æ–™åº«**
   - æª¢æŸ¥ PostgreSQL æœå‹™æ˜¯å¦é‹è¡Œ
   - ç¢ºèª `.env` æª”æ¡ˆä¸­çš„é€£ç·šåƒæ•¸
   - æª¢æŸ¥é˜²ç«ç‰†è¨­å®š

2. **è³‡æ–™ç„¡æ³•è¼‰å…¥**
   - ç¢ºèªè³‡æ–™è¡¨ `taoyuan_bus_inspection_2025_01_07` æ˜¯å¦å­˜åœ¨
   - æª¢æŸ¥è³‡æ–™è¡¨ä¸­æ˜¯å¦æœ‰è³‡æ–™
   - æŸ¥çœ‹ä¼ºæœå™¨æ§åˆ¶å°éŒ¯èª¤è¨Šæ¯

3. **åœ–è¡¨ç„¡æ³•é¡¯ç¤º**
   - æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰ JavaScript éŒ¯èª¤
   - ç¢ºèª Chart.js æ˜¯å¦æ­£ç¢ºè¼‰å…¥
   - æª¢æŸ¥ API å›æ‡‰æ˜¯å¦æ­£å¸¸

## é–‹ç™¼èªªæ˜

### æ–°å¢ API ç«¯é»
åœ¨ `server.js` ä¸­æ–°å¢è·¯ç”±ï¼š
```javascript
app.get('/api/new-endpoint', async (req, res) => {
  try {
    // è³‡æ–™åº«æŸ¥è©¢é‚è¼¯
    const result = await pool.query('SELECT ...');
    res.json(result.rows);
  } catch (err) {
    res.status(500).json({ error: 'éŒ¯èª¤è¨Šæ¯' });
  }
});
```

### æ–°å¢å‰ç«¯åŠŸèƒ½
1. åœ¨ `script.js` ä¸­æ–°å¢è³‡æ–™è¼‰å…¥å‡½æ•¸
2. åœ¨ `index.html` ä¸­æ–°å¢ UI å…ƒç´ 
3. åœ¨ `styles.css` ä¸­æ–°å¢æ¨£å¼

## æˆæ¬Š

MIT License

## è¯çµ¡è³‡è¨Š

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯ç¹«é–‹ç™¼åœ˜éšŠã€‚
